# AIREA Patent Technical Diagrams
## Section 7: Supplementary Information

---

## DIAGRAM 1: System Architecture Overview

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              USER INTERFACE                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  Natural Language Search Input                                       │    │
│  │  "Cari rumah landed yang murah dekat Sunway, at least 3 bilik"      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                         QUERY PROCESSING ENGINE                              │
│  ┌────────────────────┐  ┌────────────────────┐  ┌────────────────────┐    │
│  │  Language Detection │  │  Keyword Extractor │  │ Complexity Analyzer│    │
│  │  (EN/MS/ZH/TA/Mix) │  │  (Multi-language)  │  │  (Simple/Complex)  │    │
│  └────────────────────┘  └────────────────────┘  └────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                    ┌─────────────────┴─────────────────┐
                    ▼                                   ▼
         ┌──────────────────┐                ┌──────────────────┐
         │   SIMPLE QUERY   │                │   COMPLEX QUERY  │
         │  Local Extraction│                │   GPT-4o-mini    │
         │  (No AI Cost)    │                │   AI Processing  │
         └──────────────────┘                └──────────────────┘
                    │                                   │
                    └─────────────────┬─────────────────┘
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                      STRUCTURED FILTER OUTPUT                                │
│  {                                                                           │
│    propertyType: "landed",                                                   │
│    listingType: "sale",                                                      │
│    minBedrooms: 3,                                                           │
│    maxPrice: 500000,                                                         │
│    location: { lat: 3.0738, lng: 101.6068, name: "Sunway" },                │
│    sortBy: "price_asc"                                                       │
│  }                                                                           │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                         GEOCODING SERVICE                                    │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌────────────┐   │
│  │ DB Cache    │ -> │ Local Match │ -> │ Google Maps │ -> │ Fallback   │   │
│  │ (Fastest)   │    │ (35+ cities)│    │ Geocoding   │    │ Coordinates│   │
│  └─────────────┘    └─────────────┘    └─────────────┘    └────────────┘   │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                       PostgreSQL DATABASE                                    │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  properties table                                                    │    │
│  │  - id, title, price, propertyType, listingType                      │    │
│  │  - latitude, longitude, city, state                                 │    │
│  │  - bedrooms, bathrooms, builtUpSize, lotType                        │    │
│  │  - amenities[], roiPercentage, condition, tenure                    │    │
│  │  - status, isFeatured, createdAt                                    │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                         SEARCH RESULTS                                       │
│  ┌─────────────────────┐              ┌─────────────────────┐               │
│  │     MAP VIEW        │              │     LIST VIEW       │               │
│  │  (Leaflet.js/OSM)   │              │  (Property Cards)   │               │
│  │                     │              │                     │               │
│  │   [*] [*]           │              │  ┌───────────────┐  │               │
│  │      [*]    [*]     │              │  │ Property 1    │  │               │
│  │   [*]    [*]        │              │  │ RM450,000     │  │               │
│  │                     │              │  └───────────────┘  │               │
│  └─────────────────────┘              └─────────────────────┘               │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## DIAGRAM 2: Query Processing Flowchart

```
                              ┌─────────────────┐
                              │   USER QUERY    │
                              │   (Any Language)│
                              └────────┬────────┘
                                       │
                                       ▼
                        ┌──────────────────────────┐
                        │   TYPO TOLERANCE CHECK   │
                        │   Levenshtein Distance   │
                        │   Threshold: 70%         │
                        └────────────┬─────────────┘
                                     │
                          ┌──────────┴──────────┐
                          ▼                     ▼
                    ┌──────────┐          ┌──────────┐
                    │  MATCH   │          │ NO MATCH │
                    │  FOUND   │          │          │
                    └────┬─────┘          └────┬─────┘
                         │                     │
                         ▼                     │
              ┌─────────────────────┐          │
              │ Show Correction:    │          │
              │ "Showing results    │          │
              │ for 'Bangsar'"      │          │
              └─────────┬───────────┘          │
                        │                      │
                        └──────────┬───────────┘
                                   ▼
                    ┌──────────────────────────┐
                    │  MULTI-LANGUAGE KEYWORD  │
                    │      EXTRACTION          │
                    └────────────┬─────────────┘
                                 │
        ┌────────────────────────┼────────────────────────┐
        ▼                        ▼                        ▼
┌───────────────┐      ┌───────────────┐      ┌───────────────┐
│   ENGLISH     │      │    MALAY      │      │   MANDARIN    │
│ bedroom, condo│      │ bilik, rumah  │      │ 公寓, 房子     │
│ cheap, near   │      │ murah, dekat  │      │ 便宜, 附近     │
└───────┬───────┘      └───────┬───────┘      └───────┬───────┘
        │                      │                      │
        └──────────────────────┼──────────────────────┘
                               ▼
                ┌──────────────────────────┐
                │   COMPLEXITY ANALYSIS    │
                │   shouldUseAI() Check    │
                └────────────┬─────────────┘
                             │
              ┌──────────────┴──────────────┐
              ▼                             ▼
    ┌─────────────────┐           ┌─────────────────┐
    │  SIMPLE QUERY   │           │  COMPLEX QUERY  │
    │  (Direct Match) │           │   (AI Parsing)  │
    └────────┬────────┘           └────────┬────────┘
             │                             │
             ▼                             ▼
    ┌─────────────────┐           ┌─────────────────┐
    │ Local Keyword   │           │   GPT-4o-mini   │
    │ Extraction Only │           │  System Prompt  │
    │                 │           │  (Malaysian RE) │
    │ Cost: FREE      │           │                 │
    └────────┬────────┘           └────────┬────────┘
             │                             │
             └──────────────┬──────────────┘
                            ▼
              ┌──────────────────────────┐
              │   FILTER VALIDATION &    │
              │   FALLBACK ENRICHMENT    │
              └────────────┬─────────────┘
                           │
                           ▼
              ┌──────────────────────────┐
              │   STRUCTURED FILTERS     │
              │   Ready for DB Query     │
              └──────────────────────────┘
```

---

## DIAGRAM 3: Multi-Tier Geocoding Strategy (Cost Optimization)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      LOCATION QUERY: "Bangsar"                               │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│  TIER 1: DATABASE CACHE (Fastest, Free)                                      │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  geocoding_cache table                                               │    │
│  │  SELECT * FROM geocoding_cache WHERE query = 'bangsar'              │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────┐                           ┌─────────┐                          │
│  │  FOUND  │ ────────────────────────> │ RETURN  │                          │
│  └─────────┘                           │ CACHED  │                          │
│       │                                │ COORDS  │                          │
│  NOT FOUND                             └─────────┘                          │
└───────┼─────────────────────────────────────────────────────────────────────┘
        │
        ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│  TIER 2: LOCAL MALAYSIAN DATABASE (Free)                                     │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  35+ Major Cities with Predefined Coordinates                        │    │
│  │  - Kuala Lumpur (KL): 3.1390, 101.6869                              │    │
│  │  - Johor Bahru (JB): 1.4927, 103.7414                               │    │
│  │  - Penang: 5.4164, 100.3327                                          │    │
│  │  - Bangsar: 3.1295, 101.6722 ✓                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────┐                           ┌─────────┐                          │
│  │  FOUND  │ ────────────────────────> │ RETURN  │                          │
│  └─────────┘                           │ + CACHE │                          │
│       │                                └─────────┘                          │
│  NOT FOUND                                                                   │
└───────┼─────────────────────────────────────────────────────────────────────┘
        │
        ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│  TIER 3: GOOGLE MAPS GEOCODING API (Paid, Accurate)                         │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  API Call: geocode?address=Bangsar,Malaysia                          │    │
│  │  Cost: $0.005 per request                                            │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────┐                           ┌─────────┐                          │
│  │ SUCCESS │ ────────────────────────> │ RETURN  │                          │
│  └─────────┘                           │ + CACHE │                          │
│       │                                └─────────┘                          │
│   API ERROR                                                                  │
└───────┼─────────────────────────────────────────────────────────────────────┘
        │
        ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│  TIER 4: FALLBACK COORDINATES (Free, Approximate)                           │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  Use Malaysia centroid: 4.2105, 101.9758                             │    │
│  │  Or nearest matched city from fuzzy search                           │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────────┘

COST SAVINGS:
┌─────────────────────────────────────────────────────────────────────────────┐
│  Without Optimization: 1000 queries × $0.005 = $5.00/day                    │
│  With Optimization:    100 API calls × $0.005 = $0.50/day (90% savings)     │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## DIAGRAM 4: AI Filter Extraction Process

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  INPUT: "找便宜的公寓在KLCC附近, 至少2间房"                                    │
│  (Find cheap condo near KLCC, at least 2 rooms)                             │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                        GPT-4o-mini SYSTEM PROMPT                             │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  "You are a Malaysian real estate search assistant. Parse natural    │    │
│  │   language queries into structured filters. Understand:              │    │
│  │   - English, Bahasa Malaysia, Mandarin, Tamil, Manglish             │    │
│  │   - Colloquial terms: murah=affordable, bilik=bedroom               │    │
│  │   - Price indicators: cheap/murah/便宜 = sortBy: price_asc          │    │
│  │   - Location abbreviations: KL=Kuala Lumpur, JB=Johor Bahru"        │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                          TOKEN ANALYSIS                                      │
│                                                                              │
│  找        → Intent: search                                                  │
│  便宜      → sortBy: "price_asc"                                            │
│  的        → (grammatical particle)                                          │
│  公寓      → propertyType: "condo"                                          │
│  在        → (preposition)                                                   │
│  KLCC     → location: "KLCC" (landmark)                                     │
│  附近      → proximity search enabled                                        │
│  至少      → minimum constraint                                              │
│  2间房     → minBedrooms: 2                                                  │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                        STRUCTURED JSON OUTPUT                                │
│  {                                                                           │
│    "propertyType": "condo",                                                  │
│    "listingType": "sale",         // default                                 │
│    "minBedrooms": 2,                                                         │
│    "sortBy": "price_asc",                                                    │
│    "location": {                                                             │
│      "name": "KLCC",                                                         │
│      "type": "proximity",                                                    │
│      "radius": 5                  // km, default for proximity               │
│    },                                                                        │
│    "confidence": 0.95                                                        │
│  }                                                                           │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                      POST-PROCESSING & ENRICHMENT                            │
│                                                                              │
│  1. Geocode "KLCC" → { lat: 3.1588, lng: 101.7116 }                         │
│  2. Validate propertyType against enum                                       │
│  3. Apply Malaysia-only boundary check                                       │
│  4. Merge with user preferences (if logged in)                              │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                        FINAL DATABASE QUERY                                  │
│                                                                              │
│  SELECT * FROM properties                                                    │
│  WHERE property_type = 'condo'                                               │
│    AND bedrooms >= 2                                                         │
│    AND status = 'online'                                                     │
│    AND ST_Distance(                                                          │
│      ST_MakePoint(longitude, latitude),                                      │
│      ST_MakePoint(101.7116, 3.1588)                                         │
│    ) <= 5000  -- 5km radius                                                  │
│  ORDER BY price ASC                                                          │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## DIAGRAM 5: Proximity Search with Travel Time Estimation

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  INPUT: "Condo within 15 minutes drive from Pavilion KL"                    │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│  STEP 1: GEOCODE REFERENCE POINT                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  "Pavilion KL" → { lat: 3.1489, lng: 101.7131 }                     │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│  STEP 2: ESTIMATE SEARCH RADIUS                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  Travel Mode: Driving                                                │    │
│  │  Time: 15 minutes                                                    │    │
│  │  Average Speed: 30 km/h (urban traffic)                              │    │
│  │  Estimated Radius: 7.5 km                                            │    │
│  │  Cap Applied: min(7.5, 10) = 7.5 km                                  │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│  STEP 3: INITIAL DISTANCE FILTER (Haversine)                                 │
│                                                                              │
│                    ┌─────────────────────┐                                   │
│                    │    PAVILION KL      │                                   │
│                    │    (Reference)      │                                   │
│                    └─────────┬───────────┘                                   │
│                              │                                               │
│           ┌──────────────────┼──────────────────┐                           │
│           │         7.5 km radius              │                            │
│           │                                     │                            │
│     [P1]  │     [P2]    [P3]     [P4]          │   [P5]                     │
│    2.1km  │    4.5km   5.8km    7.2km          │   9.1km                    │
│     ✓     │      ✓       ✓        ✓            │     ✗                      │
│           │                                     │                            │
│           └─────────────────────────────────────┘                            │
│                                                                              │
│  Candidates: P1, P2, P3, P4 (4 properties)                                  │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│  STEP 4: ACTUAL TRAVEL TIME (OpenRouteService API)                          │
│                                                                              │
│  ┌──────────────┬───────────────┬─────────────────┬──────────────┐          │
│  │   Property   │   Distance    │   Travel Time   │   Status     │          │
│  ├──────────────┼───────────────┼─────────────────┼──────────────┤          │
│  │     P1       │    2.1 km     │     8 min       │     ✓        │          │
│  │     P2       │    4.5 km     │    12 min       │     ✓        │          │
│  │     P3       │    5.8 km     │    14 min       │     ✓        │          │
│  │     P4       │    7.2 km     │    18 min       │     ✗        │          │
│  └──────────────┴───────────────┴─────────────────┴──────────────┘          │
│                                                                              │
│  Final Results: P1, P2, P3 (within 15 min drive)                            │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│  STEP 5: RESULT ORDERING                                                     │
│                                                                              │
│  1. Featured properties first (sorted by travel time)                        │
│  2. Non-featured properties (sorted by travel time)                          │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  1. [FEATURED] P2 - Mont Kiara Condo - 12 min drive                 │    │
│  │  2. P1 - KLCC Residence - 8 min drive                               │    │
│  │  3. P3 - Bangsar South Studio - 14 min drive                        │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## DIAGRAM 6: Multi-Language Keyword Detection Matrix

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                    MULTI-LANGUAGE KEYWORD DETECTION                          │
└─────────────────────────────────────────────────────────────────────────────┘

PROPERTY TYPES:
┌──────────────┬─────────────┬─────────────┬─────────────┬─────────────┐
│   ENGLISH    │    MALAY    │   MANDARIN  │    TAMIL    │   OUTPUT    │
├──────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
│ condo        │ kondo       │ 公寓        │ குடியிருப்பு │ condo       │
│ apartment    │ apartmen    │ 住宅        │             │ apartment   │
│ house        │ rumah       │ 房子, 房屋   │ வீடு         │ house       │
│ terrace      │ teres       │ 排屋        │             │ terrace     │
│ bungalow     │ banglo      │ 别墅        │             │ bungalow    │
│ studio       │ studio      │ 单间        │             │ studio      │
│ shop         │ kedai       │ 店铺, 商店   │ கடை         │ shop        │
│ office       │ pejabat     │ 办公室      │             │ office      │
│ factory      │ kilang      │ 工厂        │             │ factory     │
│ warehouse    │ gudang      │ 仓库        │             │ warehouse   │
└──────────────┴─────────────┴─────────────┴─────────────┴─────────────┘

LISTING TYPES:
┌──────────────┬─────────────┬─────────────┬─────────────┬─────────────┐
│   ENGLISH    │    MALAY    │   MANDARIN  │    TAMIL    │   OUTPUT    │
├──────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
│ rent, rental │ sewa        │ 出租, 租     │ வாடகை       │ rent        │
│ sale, buy    │ jual, beli  │ 出售, 卖, 买 │ விற்பனை     │ sale        │
└──────────────┴─────────────┴─────────────┴─────────────┴─────────────┘

PRICE INDICATORS:
┌──────────────┬─────────────┬─────────────┬─────────────┬─────────────┐
│   ENGLISH    │    MALAY    │   MANDARIN  │    TAMIL    │   OUTPUT    │
├──────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
│ cheap        │ murah       │ 便宜        │ மலிவான      │ price_asc   │
│ affordable   │ mampu milik │ 不要太贵     │             │ price_asc   │
│ budget       │ bajet       │ 预算        │             │ price_asc   │
│ expensive    │ mahal       │ 贵          │             │ price_desc  │
│ luxury       │ mewah       │ 豪华        │             │ price_desc  │
└──────────────┴─────────────┴─────────────┴─────────────┴─────────────┘

PROXIMITY INDICATORS:
┌──────────────┬─────────────┬─────────────┬─────────────┬─────────────┐
│   ENGLISH    │    MALAY    │   MANDARIN  │    TAMIL    │   OUTPUT    │
├──────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
│ near, nearby │ dekat, berdekatan │ 附近, 靠近 │ அருகில்   │ proximity   │
│ close to     │ hampir      │ 接近        │             │ proximity   │
│ within       │ dalam       │ 在...内     │             │ proximity   │
└──────────────┴─────────────┴─────────────┴─────────────┴─────────────┘

CITY ABBREVIATIONS:
┌──────────────┬────────────────────────────────────┐
│ ABBREVIATION │           FULL NAME                │
├──────────────┼────────────────────────────────────┤
│ KL           │ Kuala Lumpur                       │
│ JB           │ Johor Bahru                        │
│ PJ           │ Petaling Jaya                      │
│ KK           │ Kota Kinabalu                      │
│ 吉隆坡        │ Kuala Lumpur                       │
│ 新山          │ Johor Bahru                        │
│ 槟城          │ Penang                             │
└──────────────┴────────────────────────────────────┘
```

---

## DIAGRAM 7: System Data Flow (Complete)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              COMPLETE SYSTEM FLOW                            │
└─────────────────────────────────────────────────────────────────────────────┘

     USER                                                              AGENT
       │                                                                  │
       │  ┌─────────────────────────────────────────────────────────┐    │
       │  │                    WEB APPLICATION                       │    │
       │  │                 (React + TypeScript)                     │    │
       │  └─────────────────────────────────────────────────────────┘    │
       │                              │                                   │
       ▼                              ▼                                   ▼
┌─────────────┐              ┌─────────────────┐              ┌─────────────┐
│   SEARCH    │              │    PROPERTY     │              │   LISTING   │
│    PAGE     │              │     DETAIL      │              │  DASHBOARD  │
└──────┬──────┘              └────────┬────────┘              └──────┬──────┘
       │                              │                               │
       ▼                              ▼                               ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                            EXPRESS.JS API SERVER                             │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐        │
│  │   /search   │  │ /properties │  │   /agents   │  │  /messages  │        │
│  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘        │
└─────────┼────────────────┼────────────────┼────────────────┼────────────────┘
          │                │                │                │
          ▼                ▼                ▼                ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                           SERVICE LAYER                                      │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │                    PROPERTY SEARCH SERVICE                             │  │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌────────────┐   │  │
│  │  │   Keyword   │  │     AI      │  │  Geocoding  │  │  Distance  │   │  │
│  │  │  Extractor  │  │   Parser    │  │   Service   │  │ Calculator │   │  │
│  │  └─────────────┘  └─────────────┘  └─────────────┘  └────────────┘   │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────────┘
          │                │                │                │
          ▼                ▼                ▼                ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                          EXTERNAL SERVICES                                   │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐        │
│  │  OpenAI     │  │ Google Maps │  │OpenRoute    │  │  Firebase   │        │
│  │  GPT-4o-mini│  │  Geocoding  │  │  Service    │  │    Auth     │        │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘        │
└─────────────────────────────────────────────────────────────────────────────┘
          │                │                │                │
          └────────────────┴────────────────┴────────────────┘
                                   │
                                   ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                         PostgreSQL DATABASE                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐              │    │
│  │  │  properties  │  │    users     │  │   messages   │              │    │
│  │  └──────────────┘  └──────────────┘  └──────────────┘              │    │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐              │    │
│  │  │  favorites   │  │   sessions   │  │geocoding_cache│             │    │
│  │  └──────────────┘  └──────────────┘  └──────────────┘              │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## Usage Notes for Patent Filing

These diagrams illustrate:

1. **Novel Technical Contribution**: Multi-language NLP processing specifically optimized for Malaysian real estate market
2. **Cost Optimization**: Multi-tier geocoding strategy reducing API costs by up to 90%
3. **Hybrid Architecture**: Combination of local keyword extraction and AI parsing for optimal cost-performance
4. **Comprehensive Language Support**: First system to support all 4 major Malaysian language communities in property search
5. **Proximity Intelligence**: Travel time-based search using real routing data

All diagrams can be converted to professional vector graphics (SVG/PDF) for formal patent submission.
